@startuml Context_Diagram
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

title Sistema IoT de Monitoreo Agrícola - Diagrama de Contexto

Person(farmer, "Agricultor", "Usuario principal que monitorea cultivos")
Person(technician, "Técnico", "Mantiene y calibra sensores")
Person(manager, "Gerente", "Analiza datos y toma decisiones")

System(iot_system, "Sistema IoT Agrícola", "Monitorea condiciones del cultivo y automatiza riego")

System_Ext(weather_service, "Servicio Meteorológico", "Proporciona datos climáticos")
System_Ext(email_system, "Sistema de Email", "Envía notificaciones y alertas")
System_Ext(mobile_push, "Servicio Push", "Notificaciones móviles")

Rel(farmer, iot_system, "Monitorea cultivos\nConfigura alertas", "App móvil")
Rel(technician, iot_system, "Mantiene sensores\nCalibra dispositivos", "Panel web")
Rel(manager, iot_system, "Analiza tendencias\nGenera reportes", "Dashboard")

Rel(iot_system, weather_service, "Obtiene pronósticos", "API REST")
Rel(iot_system, email_system, "Envía alertas", "SMTP")
Rel(iot_system, mobile_push, "Notificaciones urgentes", "Push API")

@enduml